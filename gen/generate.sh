#! /usr/bin/env bash

echo -e "\n"

cat <<EOF
  ' ' '''''''''=#= ' ''''-==*#######***===++* -'==+==**###**--+==============-'
'''-''''''''''-*#'''''''--+*#######*******==*-''-*=*########+--===============+
'''''''''' ''''#* ' '''''-'*####*====+=+======---**==********=-+===============
'-'''''''-''''=#=  '' '''-*#*= -=-'---'-''''-=--+ -' ''''''  -++===============
++=+++=++++--'=#= ''''''+*=  '-' '''  ' '''-*='+=-''  '    '    '========**=*==
============+-*# -+='''=+   -  '''-=''' ''''##=-*  ''''      '    =*===*******=
=============+##=-'-'-+    '   ''=##=''' ''-*#=-='  '=*+    '      =*===****=*=
==============#==#**--     ' ''-+=*=-''''''+*='-+=--'-=#'       ' ' =*==*******
==============-*###-+       '-=**##**======*=-'-++==++==*=          '=***=*****
==============*###++       '--++==+==+===****-=-----==*=+    '       '*********
==============###==         '-+==     ''=###*=''==-=+*##==+'-+      ' =********
=============*##*+'    '    ''--+-   '''=****+   -'  +=*=+-'''         =*******
============*###--      '    ''--+'  '+=****'         '-++-'-   '  ''   *******
*===========###=+ '         '  '-++  =***#=             -  -'     '  '  =******
*===*======####-               ''-++*****-               '---       '''' =*****
**=****===*###='     '   -+++--''--+-***'-               ' ++-      ''''  *****
***=***==*###*' ' '     ''''-++++++--===   ''''-''''-''''''+**+     '-'--'=****
**=*****=##*=         '' '+=====+--'''  '     '  '  '''-''         '-+==-'=****
**=*******='''   ' '  ' ''-+++-''''''    ''        '-+--         '  ''-+-=*****
**=*****=*=+-''''''   '----+++--''''''    ''    ---' '-='         ''-===*******
******=-=*==+''-'' '''-++++====+--'''  '  '    -  '+-+*#=   ' -'+====**********
**=***=====-''''--'''-+==========+---''''''''   ' '-+=*##= ' ''-+=====***======
#* -U *****==-''-'''''-===*****======+++++----''''+=***===  ''' ' '++==*==++-++
#*******==++---'-'''''' '-==*###**===========+----=*##*='  ' ' '  ''''+========

EOF

php gen/Recursive.php > System/Posix/Recursive.hs
php gen/Recursive.ByteString.php > System/Posix/Recursive/ByteString.hs
php gen/Recursive.ByteString.Unsafe.php > System/Posix/Recursive/ByteString/Unsafe.hs
php gen/Recursive.Unsafe.php > System/Posix/Recursive/Unsafe.hs

echo "PHP: I'm your father."

echo -e "\nFormatting files..."
fourmolu -i $(find System test -name "*.hs" 2> /dev/null)
